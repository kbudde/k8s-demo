apiVersion: k8s.keycloak.org/v2alpha1
kind: Keycloak
metadata:
  annotations:
    a8r.io/repository: https://github.com/kbudde/k8s-demo
  name: keycloak
spec:
  bootstrapAdmin:
    service:
      secret: keycloak-bootstrap
    user:
      secret: keycloak-bootstrap
  db:
    passwordSecret:
      key: password
      name: keycloak-psql-app
    url: jdbc:postgresql://keycloak-psql-rw.keycloak:5432/app
    usernameSecret:
      key: user
      name: keycloak-psql-app
    vendor: postgres
  hostname:
    admin: https://keycloak.demo.budd.ee
    hostname: https://auth.demo.budd.ee
  http:
    httpEnabled: true
  ingress:
    enabled: false
  instances: 2
  proxy:
    headers: xforwarded
